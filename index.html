<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Workout Programs ‚Äì All-in-One Tracker</title>
  <style>
    :root{ --bg:#0e1116; --panel:#151926; --card:#1b2132; --text:#e6e9ee; --muted:#aab3c2; --ring:rgba(255,255,255,.08); --acc:#7dd3fc; --yellow:#ffd200; --ok:#22c55e; --bad:#ef4444; }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,#0c1018 0%,#0e1116 100%);color:var(--text);font:500 16px/1.45 system-ui,Segoe UI,Roboto,Inter,Arial}
    .shell{max-width:980px;margin:0 auto;padding:28px 18px}
    header{position:sticky;top:0;background:rgba(14,17,22,.92);backdrop-filter:saturate(1.1) blur(6px);border-bottom:1px solid var(--ring);z-index:10}
    .head{max-width:980px;margin:0 auto;display:flex;align-items:center;gap:14px;padding:10px 18px}
    .logo{width:34px;height:34px;border-radius:10px;background:#111;border:1px solid var(--ring);display:grid;place-items:center;font-weight:800;font-size:14px}
    .logo span:first-child{color:var(--yellow)}
    .logo span:last-child{color:var(--acc)}
    h1{font-size:20px;margin:0}
    .card{background:var(--card);border:1px solid var(--ring);border-radius:16px;padding:18px;margin:18px 0}
    .muted{color:var(--muted)}
    .badge{display:inline-block;padding:2px 8px;border:1px solid var(--ring);border-radius:999px;font-size:12px;margin-left:8px}
    label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px}
    select{padding:8px 10px;border-radius:10px;border:1px solid var(--ring);background:#0f1320;color:var(--text)}
    input[type="number"],input[type="text"]{width:100%;padding:6px 8px;border-radius:6px;border:1px solid var(--ring);background:#0f1320;color:var(--text);font-size:14px}
    input[type="number"]:focus,input[type="text"]:focus{outline:none;border-color:var(--acc)}
    input[type="checkbox"]{width:20px;height:20px;cursor:pointer}
    input::placeholder{color:var(--muted);opacity:0.6}
    table{width:100%;border-collapse:collapse;margin-top:12px}
    .table-wrapper{overflow-x:auto;-webkit-overflow-scrolling:touch}
    th,td{padding:10px;border-bottom:1px solid var(--ring)}
    th{text-align:left;font-weight:600;color:var(--acc)}
    td{text-align:left;vertical-align:middle}
    td:nth-child(2),td:nth-child(3),td:nth-child(4){text-align:center;width:90px}
    .input-cell{width:90px}
    .notes-cell{min-width:150px}
    .day-title{font-size:18px;font-weight:700;margin:24px 0 12px;color:var(--acc);display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px}
    .day-title:first-child{margin-top:0}
    .section-title{font-size:15px;font-weight:600;margin:18px 0 8px;color:var(--yellow);cursor:pointer;user-select:none;display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background:var(--panel);border-radius:8px;border:1px solid var(--ring)}
    .section-title:hover{background:var(--card)}
    .section-title .arrow{transition:transform 0.3s;font-size:12px}
    .section-title.collapsed .arrow{transform:rotate(-90deg)}
    .collapsible-content{overflow:hidden;transition:max-height 0.3s ease-out}
    .collapsible-content.collapsed{max-height:0}
    .note{font-size:13px;color:var(--muted);font-style:italic}
    .session-info{display:flex;gap:12px;align-items:center;font-size:14px;color:var(--muted);flex-wrap:wrap}
    .timer{color:var(--acc);font-weight:600;font-size:16px}
    .timer-btn{padding:6px 12px;border-radius:6px;border:1px solid var(--ring);background:var(--panel);color:var(--text);cursor:pointer;font-size:13px;font-family:inherit}
    .timer-btn:hover{background:var(--card);border-color:var(--acc)}
    .timer-btn.active{background:var(--acc);color:#000;border-color:var(--acc)}
    footer{margin:40px 0 20px;color:var(--muted);font-size:13px;text-align:center}
    .info-box{background:var(--panel);border:1px solid var(--ring);border-radius:12px;padding:14px;margin:12px 0}
    .info-box h4{margin:0 0 8px;font-size:14px;color:var(--acc}}
    .info-box p{margin:4px 0;font-size:13px}
    @media (max-width:720px){
      .shell{padding:16px 8px}
      .head{padding:8px 12px;flex-wrap:wrap;gap:8px}
      h1{font-size:18px}
      .badge{font-size:11px;padding:2px 6px}
      header > div > div{width:100%;justify-content:space-between}
      header select{font-size:12px;padding:6px 8px}
      header label{font-size:11px}
      .card{padding:14px}
      .table-wrapper{overflow-x:auto;-webkit-overflow-scrolling:touch;margin:0 -14px;padding:0 14px}
      table{min-width:600px;font-size:12px}
      th,td{padding:6px 4px;font-size:12px;white-space:nowrap}
      td:first-child{white-space:normal;min-width:140px;max-width:140px;font-size:11px;line-height:1.3}
      .input-cell{width:55px}
      td:nth-child(2),td:nth-child(3),td:nth-child(4){width:55px}
      .notes-cell{min-width:120px}
      input[type="number"],input[type="text"]{font-size:12px;padding:4px 4px}
      .day-title{font-size:15px;margin:16px 0 8px}
      .session-info{font-size:11px;gap:6px}
      .timer{font-size:13px}
      .timer-btn{padding:4px 8px;font-size:11px}
      .section-title{font-size:13px;padding:6px 10px}
      .info-box{padding:12px;font-size:12px}
      .info-box h4{font-size:13px}
    }
  </style>
  <meta name="theme-color" content="#0e1116">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Workout Programs">
  <link rel="apple-touch-icon" href="./icons/icon-192.png">
  <link rel="manifest" href="./manifest.webmanifest">
</head>
<body>
  <header>
    <div class="head">
      <div class="logo"><span>W</span><span>M</span></div>
      <h1>Workout Programs <span class="badge" id="program-badge">PHLUL</span></h1>
      <div style="margin-left:auto;display:flex;align-items:center;gap:12px;flex-wrap:wrap">
        <div style="display:flex;align-items:center;gap:8px">
          <label for="program-select" class="muted" style="font-size:12px;margin:0">Program</label>
          <select id="program-select">
            <option value="phlul">PHLUL Split</option>
            <option value="convict">Convict Conditioning</option>
            <option value="mobility">Mobility Routines</option>
            <option value="five31">5-3-1 Classic</option>
            <option value="rehab">Rehab Roadmap</option>
          </select>
        </div>
        <div style="display:flex;align-items:center;gap:8px">
          <label for="session-select" class="muted" style="font-size:12px;margin:0" id="session-label">Session</label>
          <select id="session-select">
            <option value="day1">Day 1</option>
          </select>
        </div>
      </div>
    </div>
  </header>
  <main class="shell">
    <div class="card" id="workout-display">
      Loading workout...
    </div>

    <div class="card" id="program-info-card">
      <h2 id="program-title" style="margin:0 0 8px">Loading...</h2>
      <p class="muted" id="program-description">Loading program information...</p>
      
      <div class="info-box" id="schedule-info">
        <h4>Schedule</h4>
        <p id="schedule-text">Loading schedule...</p>
      </div>
    </div>

    <div class="card">
      <h3 style="margin:0 0 12px">Data Management</h3>
      <p class="muted" style="margin:0 0 12px">Export your workout data as a backup or to transfer to another device. Import previously exported data to restore your progress.</p>
      <div style="display:flex;gap:12px;flex-wrap:wrap">
        <button class="timer-btn" onclick="exportData()" style="flex:1;min-width:140px">üì• Export Data</button>
        <button class="timer-btn" onclick="document.getElementById('import-file').click()" style="flex:1;min-width:140px">üì§ Import Data</button>
        <button class="timer-btn" onclick="clearAllData()" style="flex:1;min-width:140px;border-color:var(--bad);color:var(--bad)">üóëÔ∏è Clear All Data</button>
      </div>
      <input type="file" id="import-file" accept=".json" style="display:none" onchange="importData(event)">
    </div>
  </main>
  <footer>¬© 2025 ‚Äì Workout Programs Tracker. Built from your spreadsheet.</footer>

  <script src="workout-data.js"></script>
  <script src="workout-app.js"></script>
  <script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('./sw.js').catch(err => console.log('SW registration failed:', err));
    });
  }
  </script>
</body>
</html>
